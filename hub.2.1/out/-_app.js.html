<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: _app.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: _app.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>
import { Provider } from 'react-redux';
import App from 'next/app';
import withRedux from 'next-redux-wrapper';
import makeStore from '../services/State/MakeStore/makeStore';

/**
 * Connect Next.js to Redux.
 * Create state store. Get data from index page component and send to state store via reducers.
 * Used by Next.js in transpilation; overrides default Next.js _app
 *
 * @class AppWithRedux
 * @extends {App}
 */
class AppWithRedux extends App {
	// get Index's props and, optionally, dispatch here
	static async getInitialProps({ Component, ctx }) {
		// get props passed from Index (Component)
		await Component.getInitialProps(ctx)
			.then((indexProps) => {
				if (!indexProps.stateError) {					
					ctx.store.dispatch({
						type: 'SET_SCREEN_DATA',
						sData: indexProps.sData,
					});
					ctx.store.dispatch({
						type: 'SET_USER_DATA',
						uData: indexProps.uData,
					});
				} else {
					ctx.store.dispatch({
						type: 'SET_STATE_ERROR',
						error: indexProps.stateError,
					});
				}
				return { indexProps };
			})
			.catch((error) => {
				ctx.store.dispatch({
					type: 'SET_STATE_ERROR',
					error,
				});
			});
	}
	// return Index with access to store state (and its own props)
	render() {
		const { Component, indexProps, store } = this.props;
		return (
			&lt;Provider store={store}>
				&lt;Component {...indexProps} />
			&lt;/Provider>
		);
	}
}

export default withRedux(makeStore)(AppWithRedux);
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="AppWithRedux.html">AppWithRedux</a></li><li><a href="DocumentWithStyledComponents.html">DocumentWithStyledComponents</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.3</a> on Wed Dec 25 2019 11:51:17 GMT-0500 (Eastern Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
